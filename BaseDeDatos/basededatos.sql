-- MySQL Script generated by MySQL Workbench
-- mar 22 oct 2019 15:14:01 -05
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema auditoria
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `auditoria` ;

-- -----------------------------------------------------
-- Schema auditoria
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `auditoria` DEFAULT CHARACTER SET utf8 ;
USE `auditoria` ;

-- -----------------------------------------------------
-- Table `auditoria`.`auditoria`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `auditoria`.`auditoria` ;

CREATE TABLE IF NOT EXISTS `auditoria`.`auditoria` (
  `idaudioria` INT NOT NULL AUTO_INCREMENT,
  `audi_nombre` VARCHAR(45) NULL,
  `audi_fecha` DATE NULL,
  PRIMARY KEY (`idaudioria`),
  UNIQUE INDEX `idaudioria_UNIQUE` (`idaudioria` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `auditoria`.`sistema_operativo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `auditoria`.`sistema_operativo` ;

CREATE TABLE IF NOT EXISTS `auditoria`.`sistema_operativo` (
  `idsistema_operativo` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NULL,
  `descripcion` VARCHAR(45) NULL,
  `version` VARCHAR(45) NULL,
  `arquitectura` VARCHAR(45) NULL,
  `usuario` VARCHAR(45) NULL,
  `directorio` VARCHAR(45) NULL,
  PRIMARY KEY (`idsistema_operativo`),
  UNIQUE INDEX `idsistema_operativo_UNIQUE` (`idsistema_operativo` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `auditoria`.`cpu`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `auditoria`.`cpu` ;

CREATE TABLE IF NOT EXISTS `auditoria`.`cpu` (
  `idcpu` INT NOT NULL AUTO_INCREMENT,
  `vendedor` VARCHAR(100) NULL,
  `modelo` VARCHAR(100) NULL,
  `mhz` VARCHAR(100) NULL,
  `tam_cache` VARCHAR(100) NULL,
  `cpufisica` VARCHAR(100) NULL,
  `nucleoscpu` VARCHAR(100) NULL,
  PRIMARY KEY (`idcpu`),
  UNIQUE INDEX `idcpu_UNIQUE` (`idcpu` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `auditoria`.`red`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `auditoria`.`red` ;

CREATE TABLE IF NOT EXISTS `auditoria`.`red` (
  `idred` INT NOT NULL AUTO_INCREMENT,
  `ip_primaria` VARCHAR(45) NULL,
  `mac_primaria` VARCHAR(100) NULL,
  `host` VARCHAR(45) NULL,
  PRIMARY KEY (`idred`),
  UNIQUE INDEX `idred_UNIQUE` (`idred` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `auditoria`.`disco`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `auditoria`.`disco` ;

CREATE TABLE IF NOT EXISTS `auditoria`.`disco` (
  `iddisco` INT NOT NULL AUTO_INCREMENT,
  `espaciototal` VARCHAR(45) NULL,
  `espaciodisponible` VARCHAR(45) NULL,
  `espaciousado` VARCHAR(45) NULL,
  `unidades` VARCHAR(45) NULL,
  PRIMARY KEY (`iddisco`),
  UNIQUE INDEX `iddisco_UNIQUE` (`iddisco` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `auditoria`.`audi_equipo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `auditoria`.`audi_equipo` ;

CREATE TABLE IF NOT EXISTS `auditoria`.`audi_equipo` (
  `idaudi_equipo` INT NOT NULL AUTO_INCREMENT,
  `num_equipo` INT NOT NULL,
  `idauditoria` INT NOT NULL,
  `sistema_operativo` INT NOT NULL,
  `cpu` INT NOT NULL,
  `red_idred` INT NOT NULL,
  `disco_iddisco` INT NOT NULL,
  PRIMARY KEY (`idaudi_equipo`),
  UNIQUE INDEX `idaudi_equipo_UNIQUE` (`idaudi_equipo` ASC),
  INDEX `fk_audi_equipo_audioria_idx` (`idauditoria` ASC),
  INDEX `fk_audi_equipo_sistema_operativo1_idx` (`sistema_operativo` ASC),
  INDEX `fk_audi_equipo_cpu1_idx` (`cpu` ASC),
  UNIQUE INDEX `num_equipo_UNIQUE` (`num_equipo` ASC),
  INDEX `fk_audi_equipo_red1_idx` (`red_idred` ASC),
  INDEX `fk_audi_equipo_disco1_idx` (`disco_iddisco` ASC),
  CONSTRAINT `fk_audi_equipo_audioria`
    FOREIGN KEY (`idauditoria`)
    REFERENCES `auditoria`.`auditoria` (`idaudioria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_audi_equipo_sistema_operativo1`
    FOREIGN KEY (`sistema_operativo`)
    REFERENCES `auditoria`.`sistema_operativo` (`idsistema_operativo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_audi_equipo_cpu1`
    FOREIGN KEY (`cpu`)
    REFERENCES `auditoria`.`cpu` (`idcpu`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_audi_equipo_red1`
    FOREIGN KEY (`red_idred`)
    REFERENCES `auditoria`.`red` (`idred`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_audi_equipo_disco1`
    FOREIGN KEY (`disco_iddisco`)
    REFERENCES `auditoria`.`disco` (`iddisco`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

